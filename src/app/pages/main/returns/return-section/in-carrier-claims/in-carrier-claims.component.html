<div class="carrier-claims-section">
    <app-date-range
      (modelChange)="onChange($event)"
      [badgeTotal]="badgeTotal"
    ></app-date-range>
    <!-- (filterChange)="openNav()" -->
  
    <nz-table
      #nzTable
      nzOuterBordered
      [nzData]="carrierClaimsList"
      nzShowSizeChanger
      [nzPageSizeOptions]="pageSizeOptions"
      [nzFrontPagination]="false"
      [nzTotal]="total"
      [nzPageSize]="pageSize"
      [nzPageIndex]="pageIndex"
      [nzLoading]="isLoading"
      [nzScroll]="{ x: '100%' }"
    >
      <thead>
        <tr>
          <th>PO</th>
          <th>Invoice</th>
          <th>Customer Name</th>
          <th>Return Classification</th>
          <th>MPN</th>
          <th>RA Number</th>
          <th>Tracking No.</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody>
        <ng-template ngFor let-data [ngForOf]="carrierClaimsList">
          <tr>
            <td>
              <a style="color: #1221c3"
                ><u
                  ><b class="no-wrap">{{ data?.po }}</b></u
                ></a
              >
            </td>
            <td class="no-wrap">{{ data?.invoice }}</td>
            <td nzBreakWord>{{ data?.customerName }}</td>
            <td class="no-wrap">{{ data?.returnClassification }}</td>
            <td>
              <div>
                <b class="no-wrap">{{ data?.mpn }}</b>
              </div>
              <ul class="sub-section">
                <li class="no-wrap">
                  <div class="sub-val">
                    <span class="title">Order Qty&nbsp;&nbsp;-&nbsp;</span
                    >{{ data?.orderQty }}
                  </div>
                </li>
                <li class="no-wrap">
                  <div class="sub-val">
                    <span class="title"
                      >Return Qty&nbsp;-&nbsp;{{ data?.returnQty }}</span
                    >
                  </div>
                </li>
              </ul>
            </td>
            <td>
              <span *ngFor="let ra of data?.raNumber">
                <div>
                  <b class="no-wrap">{{ ra?.name }}</b>
                </div>
                <ul class="sub-section">
                  <li class="no-wrap">
                    <div class="sub-val">
                      <span class="title">RA #:&nbsp;</span>{{ ra?.number }}
                    </div>
                  </li>
                </ul>
              </span>
            </td>
            <td>
              <div>
                <b class="no-wrap">{{ data?.trackingNo?.name }}</b>
              </div>
              <ul class="sub-section">
                <li>
                  <div class="sub-val no-wrap">
                    <span class="title">AWB:&nbsp;</span
                    >{{ data?.trackingNo?.number }}
                  </div>
                </li>
              </ul>
            </td>
            <td>
              <div class="action">
                <button
                  style="height: 35px"
                  nz-button
                  class="action-button"
                  [nzType]="'primary'"
                  (click)="modelVisible = true"
                >
                  Approve Credit
                </button>
                <app-three-dot-menu-btn [menu]="menu"></app-three-dot-menu-btn>
                <nz-dropdown-menu #menu="nzDropdownMenu">
                  <ul nz-menu>
                    <li (click)="modelVisible = true" nz-menu-item>
                      Reclassify Customer Reason to Buyers Remorse
                    </li>
                    <li nz-menu-item>Report ‘Carrier Damage’</li>
                    <li nz-menu-item>Return Not Received - Mark as Lost</li>
                  </ul>
                </nz-dropdown-menu>
              </div>
            </td>
          </tr>
        </ng-template>
      </tbody>
    </nz-table>
    <nz-modal
      [(nzVisible)]="modelVisible"
      nzTitle="Add RA #"
      (nzOnCancel)="modelVisible = false"
    >
      <ng-container *nzModalContent>
        <div class="model-section">
          <form nz-form [formGroup]="approveCreditForm">
            <nz-form-item>
              <nz-form-label [nzXs]="3" nzRequired>Credit Value</nz-form-label>
              <nz-form-control nzErrorTip="Credit Value is required!">
                <nz-input-group nzPrefix="$">
                  <input
                    formControlName="creditValue"
                    type="text"
                    nz-input
                    placeholder="Enter An Credit Value"
                  />
                </nz-input-group>
              </nz-form-control>
            </nz-form-item>
            <nz-form-item>
              <nz-form-label [nzXs]="3" nzRequired>CN</nz-form-label>
              <nz-form-control nzErrorTip="CN is required!">
                <nz-input-group>
                  <input
                    formControlName="cn"
                    type="text"
                    nz-input
                    placeholder="Enter An CN"
                  />
                </nz-input-group>
              </nz-form-control>
            </nz-form-item>
            <nz-form-item>
              <nz-form-label [nzXs]="3" nzRequired>CN</nz-form-label>
              <div class="Neon Neon-theme-dragdropbox">
                <input
                  style="
                    z-index: 999;
                    opacity: 0;
                    width: 320px;
                    height: 160px;
                    position: absolute;
                    right: 0px;
                    left: 0px;
                    margin-right: auto;
                    margin-left: auto;
                  "
                  name="files[]"
                  id="filer_input2"
                  multiple="multiple"
                  type="file"
                  formControlName="uploadCreditNote"
                  #modelvel
                />
                <div class="Neon-input-dragDrop">
                  <div
                    *ngIf="modelvel.value == ''; else elseBlock"
                    class="Neon-input-inner"
                  >
                    <div class="Neon-input-icon">
                      <i class="fa fa-file-image-o"></i>
                    </div>
                    <div class="Neon-input-text">
                      <h3>Drag&amp;Drop files here</h3>
                      <span style="display: inline-block; margin: 15px 0"
                        >or</span
                      >
                    </div>
                    <a class="Neon-input-choose-btn blue">Browse Files</a>
                  </div>
                  <ng-template #elseBlock
                    ><span nz-icon nzType="file" nzTheme="outline"></span>
                    {{ approveCreditForm.value.uploadCreditNote }}</ng-template
                  >
                </div>
              </div>
            </nz-form-item>
          </form>
        </div>
        <div class="model-footer">
          <div class="model-action">
            <button
              nz-button
              nzType="default"
              style="color: black; margin-right: 5px"
              (click)="modelVisible = false"
            >
              Cancel
            </button>
            <button
              nz-button
              class="action-button"
              (click)="submitForm()"
              [nzType]="'primary'"
              style="height: 35px; margin-top: 0px; margin-right: 10px"
            >
              <div *ngIf="isLoading">
                <ng-template #indicatorTemplate
                  ><span style="font-size: 16px" nz-icon nzType="loading"></span>
                </ng-template>
                <nz-spin nzSimple [nzIndicator]="indicatorTemplate"></nz-spin>
              </div>
              <span *ngIf="!isLoading"
                ><span nz-icon nzType="file-text" nzTheme="outline"></span>
                Save</span
              >
            </button>
          </div>
        </div>
      </ng-container>
    </nz-modal>
  </div>
  