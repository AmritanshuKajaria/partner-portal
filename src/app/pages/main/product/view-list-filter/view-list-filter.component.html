<div class="view-edit-products-section">
  <div #content class="content-section">
    <div class="user-content">
      <div class="tab-header">
        <span>View Products</span>
        <button
          nz-button
          nzType="primary"
          nzShape="round"
          (click)="navigatePage('product/view-list-filter/add-product')"
        >
          <span nz-icon nzType="plus" nzTheme="outline"></span>
          Add new Product
        </button>
      </div>
    </div>

    <div class="view-edit-products-section-content">
      <div>
        <nz-tag *ngIf="inventory">{{ inventory }}</nz-tag>
        <nz-tag *ngIf="viewSelect">{{ viewSelect }}</nz-tag>
        <nz-tag *ngIf="asin">{{ asin }}</nz-tag>
        <nz-tag *ngIf="Selectstatus">{{ Selectstatus }}</nz-tag>
        <nz-tag *ngIf="map">{{ map }}</nz-tag>
        <button nz-button nzType="primary" (click)="tagfunc()">clear</button>
      </div>
      <div class="action">
        <nz-badge [nzShowZero]="false" [nzCount]="beagetotal">
          <button
            (click)="openNav()"
            nz-button
            nzType="primary"
            nzShape="round"
          >
            <span nz-icon nzType="filter" nzTheme="outline"></span>
            Filter
          </button>
        </nz-badge>
        <button
          style="margin: 0 10px"
          nz-button
          (click)="showUploadModal()"
          nzType="primary"
          nzShape="round"
        >
          <span nz-icon nzType="upload" nzTheme="outline"></span>
        </button>

        <form nz-form [formGroup]="viewEditProducts">
          <nz-form-item>
            <nz-form-control nzErrorTip="Please input your valid code!">
              <nz-input-group nzPrefixIcon="search" class="search">
                <input
                  formControlName="search"
                  nz-input
                  placeholder="Search..."
                />
              </nz-input-group>
            </nz-form-control>
          </nz-form-item>
        </form>
      </div>

      <nz-table
        #nzTable
        nzTableLayout="fixed"
        nzShowSizeChanger
        [nzPageSizeOptions]="pageSizeOptions"
        [nzFrontPagination]="false"
        [nzTotal]="total"
        [nzPageSize]="pageSize"
        [nzPageIndex]="pageIndex"
        [nzLoading]="isLoading"
        [nzData]="data"
      >
        <thead>
          <tr>
            <th>MPN</th>
            <th>Product Name</th>
            <th>Unit Price</th>
            <th>Brand</th>
            <th>Product Status</th>
            <th>ASIN Status</th>
            <th>Inventory</th>
            <th>MAP</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let data of nzTable.data">
            <td>{{ data.mpn }}</td>
            <td>
              <a
                style="color: black"
                (click)="
                  navigatePage(
                    'product/view-list-filter/view-single-product/' + data.id
                  )
                "
                >{{ data.productName }}</a
              >
            </td>
            <td>{{ data.unitPrice }}</td>
            <td>{{ data.brand }}</td>
            <td>{{ data.productStatus }}</td>
            <td>{{ data.asinStatus }}</td>
            <td>{{ data.inventory }}</td>
            <td>{{ data.map }}</td>
          </tr>
        </tbody>
      </nz-table>
    </div>
  </div>
  <div #mySidenav class="filter-section">
    <a href="javascript:void(0)" class="closebtn" (click)="closeNav()"
      >&times;</a
    >
    <form nz-form [formGroup]="filter">
      <div class="filter-content">
        <!-- <div class="example-input">
        <nz-select nzMode="multiple" nzPlaceHolder="Inserted are removed"   >
          <nz-option *ngFor="let option of listOfOption" [nzLabel]="option" [nzValue]="option"></nz-option>
        </nz-select>
      </div> -->

        <nz-select
          nzAllowClear
          nzPlaceHolder="Select A Brand"
          (ngModelChange)="change($event, 'brand')"
          formControlName="brand"
        >
          <nz-option nzLabel="Sony" nzValue="sony"></nz-option>
          <nz-option nzLabel="Dell" nzValue="dell"></nz-option>
          <nz-option nzLabel="Samsung" nzValue="samsung"></nz-option>
        </nz-select>

        <h3>Inventory :</h3>
        <nz-radio-group
          (ngModelChange)="change($event, 'inventory')"
          formControlName="inventory"
        >
          <label nz-radio nzValue="inStock">In Stock</label>
          <label nz-radio nzValue="outOfStock">Out Of Stock</label>
        </nz-radio-group>

        <h3>Now View :</h3>
        <nz-select
          nzAllowClear
          nzPlaceHolder="Select A View"
          (ngModelChange)="change($event, 'viewSelect')"
          formControlName="viewSelect"
        >
          <nz-option nzLabel="Collection" nzValue="collection"></nz-option>
          <nz-option nzLabel="Category" nzValue="category"></nz-option>
          <nz-option nzLabel="Sales Tire" nzValue="salesTire"></nz-option>
        </nz-select>

        <h3>Asin Status :</h3>
        <nz-radio-group
          (ngModelChange)="change($event, 'asin')"
          formControlName="asin"
        >
          <label nz-radio nzValue="approved">Approved</label>
          <label nz-radio nzValue="notapproved">Not Approved</label>
        </nz-radio-group>

        <h3>Status :</h3>
        <nz-select
          nzAllowClear
          nzPlaceHolder="Select A Status"
          (ngModelChange)="change($event, 'status')"
          formControlName="status"
        >
          <nz-option nzLabel="Discontented" nzValue="discontented"></nz-option>
          <nz-option nzLabel="Active" nzValue="active"></nz-option>
          <nz-option nzLabel="Restricted" nzValue="restricted"></nz-option>
        </nz-select>

        <h3>MAP :</h3>
        <nz-radio-group
          (ngModelChange)="change($event, 'map')"
          formControlName="map"
        >
          <label nz-radio nzValue="true">Yes</label>
          <label nz-radio nzValue="false">No</label>
        </nz-radio-group>
      </div>
    </form>
  </div>

  <nz-modal
    [(nzVisible)]="isVisible"
    nzTitle="Which item do you want to export?"
    (nzOnCancel)="handleCancel()"
    (nzOnOk)="handleOk()"
  >
    <ng-container *nzModalContent>
      <div style="padding: 15px">
        <form nz-form [formGroup]="uploadmodal">
          <nz-form-item>
            <nz-form-control>
              <nz-input-group>
                <nz-radio-group style="display: grid" formControlName="export">
                  <label nz-radio nzValue="A">All</label>
                  <label nz-radio nzValue="B">Filtered(0)</label>
                </nz-radio-group>
              </nz-input-group>
            </nz-form-control>
          </nz-form-item>
        </form>

        <h4 style="margin-top: 12px">
          Your items and all their data will be downloaded as a CSV file
        </h4>
      </div>
      <div class="model-footer">
        <div class="model-action" style="padding: 15px; padding-bottom: 0">
          <button
            nz-button
            nzType="default"
            style="color: black; margin-right: 5px"
            (click)="handleCancel()"
          >
            Cancel
          </button>
          <button
            nz-button
            class="upload-btn"
            [nzType]="'primary'"
            style="
              width: 100px;
              margin-right: 24px;
              background-color: #2121c3;
              border: none;
            "
          >
            Upload
          </button>
        </div>
      </div>
    </ng-container>
  </nz-modal>
</div>
