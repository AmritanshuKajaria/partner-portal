<app-breadcrumb></app-breadcrumb>
<div class="holiday-section">
  <app-section-header [header]="'Holiday'"></app-section-header>

  <div class="body-section">
    <form nz-form [formGroup]="holidayForm">
      <div style="padding-left: 8px" nz-row [nzGutter]="16">
        <div formArrayName="holidayDetail" style="width: 50%">
          <div
            nz-col
            class="gutter-row"
            [nzSm]="24"
            *ngFor="let holiday of holidayDetail.controls; let i = index"
          >
            <div nz-row [nzGutter]="16" [formGroupName]="i">
              <nz-form-item nz-col class="gutter-row" [nzSm]="24" [nzXl]="11">
                <nz-form-label nzFor="date">Date</nz-form-label>
                <nz-form-control>
                  <nz-input-group>
                    <nz-date-picker
                      [nzFormat]="AppDateFormate"
                      formControlName="date"
                    ></nz-date-picker>
                  </nz-input-group>
                </nz-form-control>
              </nz-form-item>
              <nz-form-item nz-col class="gutter-row" [nzSm]="20" [nzXl]="11">
                <nz-form-label nzFor="date">Remark</nz-form-label>
                <nz-form-control nzErrorTip="Remark is required!">
                  <nz-input-group>
                    <input
                      type="text"
                      nz-input
                      placeholder="Enter Remark"
                      formControlName="remark"
                    />
                  </nz-input-group>
                </nz-form-control>
              </nz-form-item>
              <div nz-col class="gutter-row add-row" [nzSm]="4" [nzXl]="2">
                <button
                  nz-button
                  nzType="primary"
                  nzShape="circle"
                  *ngIf="i === holidayDetail.controls.length - 1"
                  style="background: #00c13b !important; border: 0"
                  (click)="addHolidays()"
                  nzSize="small"
                >
                  <span nz-icon nzType="plus"></span>
                </button>
                <button
                  nz-button
                  nzType="primary"
                  nzShape="circle"
                  *ngIf="i !== holidayDetail.controls.length - 1"
                  style="background: #f41e2c !important; border: 0"
                  (click)="removeHoliday(i)"
                  nzSize="small"
                >
                  <span nz-icon nzType="minus"></span>
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div nz-row>
        <div nz-col [nzXl]="12" [nzSm]="19" [nzXs]="24">
          <button
            nz-button
            class="action-button"
            style="height: 35px"
            [nzType]="'primary'"
          >
            <span
              *ngIf="isLoading"
              style="color: white; font-size: 16px"
              nz-icon
              nzType="loading"
            ></span>
            <span
              *ngIf="!isLoading"
              nz-icon
              nzType="file-text"
              nzTheme="outline"
            ></span>
            Save
          </button>
        </div>
      </div>
    </form>
  </div>
</div>
